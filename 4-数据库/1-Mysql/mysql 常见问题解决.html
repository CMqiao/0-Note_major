<h1>mysql 常见问题解决</h1>

<h2>windows无法启动MySQL服务 错误1067</h2>

<p>&nbsp;&nbsp; &nbsp;直接点击mysql安装文件，不要安装和卸载，直接modify，修复一下就行。<br />
&nbsp;&nbsp; &nbsp;选择要修复的sqlservice，可能不能进入下一步，在service右侧对应的几个功能点，删除一个没必要修复的，如document。这样就能进入下一步了。</p>

<p>&nbsp;&nbsp; &nbsp;如果删除不成功，试试删除在MySQL安装目录下的Data目录中的ib_logfile0和ib_logfile1，再来一次。<br />
&nbsp;&nbsp; &nbsp;Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)</p>

<p>&nbsp;&nbsp; &nbsp;重新修复mysql之后里面的用户没有了。此时可以用用户名：root 和密码：空。进行初始登录。</p>

<h2>mysql安装完成之后为root用户添加密码</h2>

<p>&nbsp;&nbsp; &nbsp;如果知道密码，只是修改密码，这样可以跳过一、二两步。<br />
&nbsp;&nbsp; &nbsp;1、编辑MySql的配置文件：my.ini（在MySql安装目录下）。<br />
&nbsp;&nbsp; &nbsp;打开配置文件，在文件最后一行添加：skip-grant-tables，然后保存退出。<br />
&nbsp;&nbsp; &nbsp;意思为就是在启mysql时不启动grant-tables</p>

<p>&nbsp;&nbsp; &nbsp;2、&nbsp;&nbsp; &nbsp;重启MySql服务：<br />
&nbsp;&nbsp; &nbsp; &nbsp; net stop mysql &nbsp;&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; net start mysql</p>

<p>&nbsp;&nbsp; &nbsp;3、设置新的root密码。<br />
&nbsp;&nbsp; &nbsp;mysql -u root -p 直接回车，无需输入密码就可以进入数据库了。<br />
&nbsp;&nbsp; &nbsp;此时在命令行下执行 use mysql （切换到系统数据库）<br />
&nbsp;&nbsp; &nbsp;执行以下语句既可修改root用户密码：<br />
&nbsp;&nbsp; &nbsp;update user set password=PASSWORD(&quot;123456&quot;) where user=&#39;root&#39;;<br />
&nbsp;&nbsp; &nbsp;update user set password=root where user=&#39;root&#39;;</p>

<p>&nbsp;&nbsp; &nbsp;本机：<br />
&nbsp;&nbsp; &nbsp;cd C:\Program Files\MySQL\MySQL Server 5.6\bin<br />
&nbsp;&nbsp; &nbsp;mysql -u root -p<br />
&nbsp;&nbsp; &nbsp;use mysql<br />
&nbsp;&nbsp; &nbsp;update user set password=root where user=&#39;root&#39;;<br />
&nbsp;&nbsp; &nbsp;insert into mysql.user(Host,User,Password) values(&quot;localhost&quot;,&quot;root&quot;,password(&quot;root&quot;));<br />
&nbsp;&nbsp; &nbsp;grant all privileges on mysql.* to root@localhost identified by &#39;root&#39;;<br />
&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;flush privileges;</p>

<p>&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;有点问题，创建完用户之后要加一句：flush privileges;//重新加载授权表<br />
&nbsp;&nbsp; &nbsp;不然新创建的用户是的登不上去的，总是会显示错误：Access denied for user &#39;mantis&#39;@&#39;localhost&#39; (using password: YES)</p>

<p>&nbsp;&nbsp; &nbsp;4、&nbsp;&nbsp; &nbsp;还原配置文件，删除刚才在配置文件中添加的一行。然后重启mysql服务，就可以使用新设置的密码进行登录了。</p>

<p>1. reload 是 administrative 级的权限，即 server administration；这类权限包括：<br />
&nbsp; &nbsp;CREATE USER, PROCESS, RELOAD, REPLICATION CLIENT, REPLICATION SLAVE, SHOW DATABASES, SHUTDOWN, SUPER</p>

<p>2. 这类权限的授权不是针对某个数据库的，因此须使用on *.* 来进行：<br />
&nbsp;&nbsp; &nbsp;grant reload on *.* to &#39;root&#39;@&#39;localhost&#39;;</p>
