<%@page pageEncoding="UTF-8"%>
<%@include file="/common/common.jsp"%>
<%@include file="/common/skins/skin0/component.jsp"%>
<h:css href="/css/style1/style-custom.css" />
<html>
<head>
<title>查询</title>
</head>
<body>
<h:form name="queryForm" action="com.primeton.eos.richTest.studentManager.flow"
        target="result" method="post" onsubmit="return checkForm(this);" >
  <input type="hidden" name="_eosFlowAction" value="query"/>
  <w:panel id="panel1" width="100%" title="queryForm">
    <table align="center" border="0" width="100%" class="form_table">
      <tr>
        <td class="form_label">
          学生姓名
        </td>
        <td colspan="1">
          <h:text property="criteria/_expr[1]/studentName"/>
          <h:hidden property="criteria/_expr[1]/_op" value="like"/>
          <h:hidden property="criteria/_expr[1]/_likeRule" value="all"/>
        </td>
        <td class="form_label">
          生日
        </td>
        <td colspan="1">
          <h:hidden property="criteria/_expr[2]/_op" value="between" />
          <h:hidden property="criteria/_expr[2]/birthday" value=" " />
          <h:hidden property="criteria/_expr[2]/_pattern" value="yyyy-MM-dd"/>
          <table style="border:0px;background-color:transparent" border="0" cellspacing="0" cellpadding="0">
            <tr style="border: 0px none ; background-color: transparent;">
              <td style="border: 0px none ; background-color: transparent;">
                从:
              </td>
              <td style="border: 0px none ; background-color: transparent;">
                <w:date defaultNull="true" property="criteria/_expr[2]/_min" allowNull="true"/>
              </td>
              <td style="border: 0px none ; background-color: transparent;">
                到:
              </td>
              <td style="border: 0px none ; background-color: transparent;">
                <w:date defaultNull="true" property="criteria/_expr[2]/_max" allowNull="true"/>
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td class="form_label">
          性别
        </td>
        <td colspan="1">
          <d:select dictTypeId="gender" nullLabel="--请选择--" property="criteria/_expr[3]/sex"/>
          <h:hidden property="criteria/_expr[3]/_op" value="="/>
        </td>
        <td class="form_label">
          班级
        </td>
        <td colspan="1">
          <h:select property="criteria/_expr[4]/class.classId">
                <option value="">--请选择--</option>
                <l:iterate id="cla" property="classes" scope="flow" >
                    <h:option iterateId="cla" valueField="classId" labelField="className" scope="flow"/>
                </l:iterate>
          </h:select>
          <h:hidden property="criteria/_expr[4]/_op" value="="/>
        </td>
      </tr>
      <tr class="form_bottom">
        <td colspan="4" class="form_bottom">
          <input type="hidden" name="criteria/_entity" value="com.primeton.eos.richTest.newdataset.Student">
          每页显示
          <h:text size="2" property="page/length" value="10"
                  validateAttr="minValue=1;maxValue=100;type=integer;isNull=true" />
          <input type="hidden" name="page/begin" value="0">
          <input type="hidden" name="page/isCount" value="true">
          <input type="submit" value="查询">
        </td>
      </tr>
    </table>
  </w:panel>
  <h:hidden property="criteria/_orderby[1]/_sort" value="asc"/>
  <h:hidden property="criteria/_orderby[1]/_property" value="studentName"/>
</h:form>
 
<br>
<iframe width="100%" height="420" marginHeight="0" scrolling="no"
        frameBorder="0" marginWidth="0" name="result"></iframe>
 
<script type="text/javascript">
    var frm = $name("queryForm");
      frm.submit();
</script>
 
</body>
</html>



下面一个尚未完成的查询实体：

sql语句：

  select * from wfworkitem  a where  a.rootprocinstid = 1543 and 
  ((a.workitemname = '审核' and a.currentstate = 4 ) or 
  (a.workitemname = '报部' and a.currentstate = 10))

查询实体：

  criteria/_entity                                          :  ***
  criteria/_and[1]/_expr[1]/rootprocinstid                  :  wfinst[1]/processinstid    
  criteria/_and[1]/_or[1]/_and[1]/_expr[1]/currentstate     :  4              
  criteria/_and[1]/_or[1]/_and[1]/_expr[2]/workitemname     :  审核       
  criteria/_and[1]/_or[1]/_and[2]/_expr[1]/currentstate     :  10                           
  criteria/_and[1]/_or[1]/_and[2]/_expr[2]/workitemname     :  报部          



