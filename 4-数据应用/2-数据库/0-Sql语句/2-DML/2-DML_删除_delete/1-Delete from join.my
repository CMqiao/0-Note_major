<h1>Delete from join 用法</h1>

<p>delete (别名) from tblA (别名) left join tblb (别名) on。。。用法</p>

<p>1、创建使用的表及数据</p>

<pre>
<code>CREATE TABLE YSHA 
(
    code VARCHAR(10),
    NAME VARCHAR(20)
)

CREATE TABLE YSHB
( 
   code VARCHAR(10),
   col VARCHAR(10)
)

INSERT INTO YSHA VALUES (1,&#39;A1&#39;)
INSERT INTO YSHA VALUES (2,&#39;A2&#39;)

INSERT INTO YSHB VALUES(1,&#39;Row1&#39;)
INSERT INTO YSHB VALUES(1,&#39;Row2&#39;)
INSERT INTO YSHB VALUES(1,&#39;Row3&#39;)
INSERT INTO YSHB VALUES(3,&#39;Row1&#39;)</code></pre>

<p>2、delete from left join</p>

<p>delete from用法</p>

<pre>
<code>DELETE A FROM YSHA A LEFT JOIN YSHB B ON A.code=b.code WHERE b.code is NULL
SELECT * FROM YSHA
SELECT * FROM YSHB</code></pre>

<ul>
	<li>1</li>
	<li>2</li>
	<li>3</li>
</ul>

<p>等同于</p>

<pre>
<code>DELETE FROM YSHA WHERE NOT EXISTS(SELECT 1 FROM YSHB B WHERE YSHA.code=b.code )
SELECT * FROM YSHA
SELECT * FROM YSHB</code></pre>

<ul>
	<li>1</li>
	<li>2</li>
	<li>3</li>
</ul>

<p><img alt="运行结果" src="http://img.blog.csdn.net/20150819141800192" title="" />&nbsp;<br />
以上操作是将B表中未使用的A表编号删除</p>

<p>3、delete from A，B</p>

<p>delete from 用法</p>

<pre>
<code>DELETE A FROM YSHA A , YSHB B WHERE A.code=b.code
SELECT * FROM YSHA
SELECT * FROM YSHB</code></pre>

<p>等同于</p>

<pre>
<code>DELETE FROM YSHA WHERE EXISTS(SELECT 1 FROM YSHB B WHERE YSHA.code=b.code )
SELECT * FROM YSHA
SELECT * FROM YSHB</code></pre>

<p><img alt="运行结果" src="http://img.blog.csdn.net/20150819141859261" title="" /></p>
