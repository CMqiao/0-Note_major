<h1>用MyEclipse自动生成hibernate映射文件和实体类</h1>

<p>创建web工程，使用Hibernate的时候，在工程里一个一个创建实体类太麻烦，浪费时间，现在教大家如何用MyEclipse自动生成Hibernate映射文件及实体类</p>

<h2>方法/步骤</h2>

<ol>
	<li>
	<h3>创建数据库，创建相应的表</h3>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=1" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://e.hiphotos.baidu.com/exp/w=500/sign=bcda30570ff3d7ca0cf63f76c21ebe3c/b17eca8065380cd7b5dbd584a244ad3458828195.jpg" /></a></p>
	</li>
	<li>
	<h3>点击图标，选择MyEclipse Datebase Explorer</h3>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=2" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://d.hiphotos.baidu.com/exp/w=500/sign=13c04b7da818972ba33a00cad6cc7b9d/f703738da977391270cdf208fb198618377ae2f4.jpg" /></a></p>
	</li>
	<li>
	<h3>右击空白区域，选择new菜单，根据提示创建数据库连接，创建好后会显示你所创建的连接名，如图mysqldb是我创建的数据库连接</h3>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=3" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://g.hiphotos.baidu.com/exp/w=500/sign=51fd965e36fae6cd0cb4ab613fb20f9e/3812b31bb051f81940ce7423d9b44aed2f73e7f4.jpg" /></a></p>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=4" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://h.hiphotos.baidu.com/exp/w=500/sign=88e9d2b675c6a7efb926a826cdfbafe9/a71ea8d3fd1f4134f8f27217261f95cad0c85e95.jpg" /></a></p>
	</li>
	<li>
	<h3>选择需要添加hibernate映像文件的工程右击---&gt;MyEclipse--&gt;Add Hibernate Capabilities</h3>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=5" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://a.hiphotos.baidu.com/exp/w=500/sign=b793a9a1194c510faec4e21a50582528/30adcbef76094b369c786c84a0cc7cd98c109df4.jpg" /></a></p>
	</li>
	<li>
	<h3>出现如图提示，根据提示下一步，不需要改动东西</h3>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=6" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://b.hiphotos.baidu.com/exp/w=500/sign=f7d778aa3987e9504217f36c2039531b/b8389b504fc2d562c4e2a784e41190ef77c66cf4.jpg" /></a></p>
	</li>
	<li>
	<h3>出现如图提示，选择刚刚创建的数据库连接名,继续下一步，最后finish&nbsp;<span class="marker">这里注意，在选择了mysql驱动之后，还要在Driver Class 后面的下拉框里选择具体的驱动类！！</span></h3>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=7" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://d.hiphotos.baidu.com/exp/w=500/sign=d8c4f227c98065387beaa413a7dca115/cf1b9d16fdfaaf51b809f6d68f5494eef11f7af4.jpg" /></a></p>
	</li>
	<li>
	<h3>刚刚自动生成的东西，有HibernateSessionFactory.java 和 hibernate.cfg.xml</h3>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=8" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://a.hiphotos.baidu.com/exp/w=500/sign=edc743b03a01213fcf334edc64e636f8/dc54564e9258d109d309dedbd258ccbf6d814df4.jpg" /></a></p>

	<p>&nbsp;</p>
	</li>
	<li>
	<h3>到MyEclipse Datebase Explorer中刚刚新建的数据库连接选中所有表，点击右键---&gt;Hibernate Reverse Enginnering 选中目录存放将要反转出来的实体类查看是否选中Update Hibernate configuration..若没有自己勾选一下，下一步，如图可以设置每张表中id增长方式，及生成的映射文件名称</h3>

	<p>&nbsp;</p>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=9" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://b.hiphotos.baidu.com/exp/w=500/sign=11cd76c2003b5bb5bed720fe06d2d523/00e93901213fb80e421516be35d12f2eb8389496.jpg" /></a></p>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=10" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://d.hiphotos.baidu.com/exp/w=500/sign=95f0293af5246b607b0eb274dbf91a35/ac345982b2b7d0a2270d73f4c8ef76094a369a96.jpg" /></a></p>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=11" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://h.hiphotos.baidu.com/exp/w=500/sign=13d077a3e5cd7b89e96c3a833f254291/b21bb051f8198618f1ad98ed49ed2e738ad4e6f5.jpg" /></a></p>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=12" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://c.hiphotos.baidu.com/exp/w=500/sign=74cf7423d9b44aed594ebee4831d876a/3c6d55fbb2fb43169ff50d1323a4462308f7d3f5.jpg" /></a></p>
	</li>
	<li>
	<h3>回到my eclipse enterprise视图下，所有实体类以及配置文件已生成</h3>

	<p><a href="http://jingyan.baidu.com/album/27fa7326e9ef8b46f8271f2a.html?picindex=13" target="_self"><img alt="用MyEclipse自动生成hibernate映射文件和实体类" src="http://f.hiphotos.baidu.com/exp/w=500/sign=4eea0b0d0a23dd542173a768e108b3df/4610b912c8fcc3ce4604be5a9145d688d53f2096.jpg" /></a></p>

	<p>&nbsp;</p>

	<p>&nbsp;</p>

	<p>&nbsp;</p>
	</li>
</ol>

<p>&nbsp;</p>

<h2>使用myEclipse来生成hibernate&nbsp;持久化类和映射文件</h2>

<h1><a name="_Toc311012918">1.&nbsp;&nbsp;&nbsp;前言</a></h1>

<p>很多人都在使用myEclipse，很多公司也都使用hibernate框架，老版本的hibernate中，由于没有annotation，我们需要写两个文件来维护表与对象的关系，写一个类，就要写一个hbm.xml文件，数据库表比较少就无所谓，但是多了就很麻烦，要一个一个的手写非常浪费时间，还有可能写错。新版的hibernate加入了annotation的形式来映射对象与数据库表之间的关系，虽然不需要写hbm.xml文件了，但是数据库表非常多的情况下，还是需要写很多的类。我们为何不找个工具自动帮我们生成这些文件呢？myEclipse就可以做到，下面我来讲解如何使用myEclipse来生成hibernate所需文件。</p>

<h1><a name="_Toc311012919">2.&nbsp;&nbsp;&nbsp;打开myEclipse</a></h1>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3329/938e5544-e96c-38fd-8f43-33da086189ba.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3331/8284ad00-351e-3f00-9b50-d21d40d058a5.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<h1><a name="_Toc311012920">3.&nbsp;建立myEclipse</a>工程</h1>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3333/ae3ebd66-7305-371f-bd2a-9d85be94b8fb.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<h1><a name="_Toc311012921">4.&nbsp;选择web project</a></h1>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3346/cd4ffd08-28e1-316c-8da5-098cbf8dbc3e.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3349/ba242ae8-d49f-3a0a-b905-c0c10e7305cf.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<h1><a name="_Toc311012922">5.打开数据库透视图</a></h1>

<p>在myEclipse右上角</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3351/6a1ce310-0beb-3d1f-be35-a6c7c345ecd2.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3353/0360d535-a281-3156-b4d9-efeab2a3779c.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>点击右键</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3355/1cb012cc-204e-3233-8efa-569287353f5a.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3357/e81e646a-d44b-3ffe-a22c-71578836df48.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>添加连接数据库所需驱动</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3359/2406be31-e959-33f0-8a49-a3cc13f8d1c7.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3361/2ba3a304-f4a1-35ea-8bde-c64f471c12eb.png" style="height:466px; width:700px" title="点击查看原始大小图片" /></p>

<p>测试是否联通</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3363/0abdfe27-26ad-3794-baa9-85368749d43e.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3365/f02d54d9-b978-37d9-85bf-64674dad175e.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>联通后Finish就可以了</p>

<h1><a name="_Toc311012923">6.&nbsp;为项目添加hibernate</a>支持</h1>

<p>我们先回到myEclipse透视图</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3367/c277aebc-4bbf-3605-9265-b0f157c2a420.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>选中项目然后添加hibernate支持</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3369/769dab49-898b-33cf-8d94-2495645a8e1b.png" style="height:194px; width:700px" title="点击查看原始大小图片" /></p>

<h1><a name="_Toc311012924">7.&nbsp;&nbsp;&nbsp;选择一些选项</a></h1>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3371/b57e0cc8-4b83-361b-a290-f2ff2cf3dcf7.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3373/65b1ea1b-8dbc-3ce7-acb9-e843a8491cbc.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>选中刚才在数据库透视图里面创建的连接</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3375/6ea8ac7f-934c-3f1a-a1d5-3a18bc1e3a20.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3377/d969d85f-9328-336e-aa33-c398a8b97eb7.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3379/49851d74-d9dc-3d87-8c3b-3e39946e3c64.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3381/4089fa3d-39e4-3d1d-8488-2470db5697e4.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>完成后</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3383/8d6da7e1-8c5e-3463-974b-18bda353534b.png" style="height:418px; width:700px" title="点击查看原始大小图片" /></p>

<h1><a name="_Toc311012925">8.反向生成</a></h1>

<p>我们在回到数据库透视图</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3384/316c5429-5a2c-31a8-aa06-1a8ff68f0707.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>打开数据连接</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3387/ee27a94d-9b5c-3358-8443-1c485382512a.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>打开刚刚创建的连接，然后打开用户名下的表</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3389/7ca4162e-2aa5-3183-b85b-608504236597.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>这个就是she用户下的表，我们选中要反向生成的表，可以多选，然后点击右键</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3391/01fbeeed-841c-3747-a255-fd92c3060e52.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>点击Hibernate Reverse Engineering&hellip;</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3393/458daa3b-403d-32ea-a692-ad872e1da4c8.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>选择你项目的src目录，填写一个反向生成后，类放哪个包下</p>

<p>Create a Hibernate mapping file (*.hbm.xml)这句话的意思是生成类和hbm.xml文件的，如果想生成annotation文件请选择下面的Add hibernate mapping annotations to POJO那个选项</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3395/49d4d3fe-770f-3bd3-82de-f50264ebca07.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>这一步你可以什么都不选，如果确定数据库表都有主键，并且知道生成方式，你可以选择Id Generator</p>

<p>如果是uuid生成，可以选择</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3397/bd9f5bb7-367f-38d8-a55b-46d781e1c688.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>这步不选也可以，下一步也可以选择。</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3400/d02e646a-3120-3b2e-a28c-d4fcd65f9f00.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3402/7a8bbeba-63fe-3b58-8cdd-675a05b62ad6.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>Include referenced tables (A-&gt;B)</p>

<p>Include referenced tables (A&lt;-B)</p>

<p>这两个一定要选择，否则myeclipse不能给你生成一对多、多对多等映射，如果只想生成单项映射，可以去掉一个，一般我们都选择，双项映射。</p>

<p>在回到myEclipse透视图，查看项目</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3404/dc4f1b87-3ce3-38e6-acc7-875d17ab8b1b.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>我们看到项目已经生成了映射文件和类。</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3406/2287b2eb-9d2d-381d-b401-ef45e35d9576.png" title="使用myEclipse来生成hibernate &lt;wbr&gt;持久化类和映射文件" /></p>

<p>已经生成了关系映射</p>

<p>Annotation方式的</p>

<p><br />
<img alt="" src="http://dl.iteye.com/upload/attachment/0073/3408/aaf061f1-00b9-32d5-95e6-7c3c7c9f3dff.png" style="height:285px; width:700px" title="点击查看原始大小图片" /></p>

<p>&nbsp;</p>
