windows7 下搭建本地svn服务

win7下安装svn服务器端及客户端详细步骤：
1.下载服务器端

	http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=91

	如：Setup-Subversion-1.8.13.msi
	地址：http://sourceforge.net/projects/win32svn/files/1.6.16/Setup-Subversion-1.6.16.msi

	如：Setup-Subversion-1.5.3.msi
	地址：http://subversion.tigris.org/files/documents/15/44049/Setup-Subversion-1.5.3.msi

	由于我是32位的系统所以选择Windows列表下的Win64Svn (64-bit client, server and bindings, MSI and ZIPs; maintained by David Darj)

2.安装服务器端，安装路径可以自己改，我的安装路径是D:/Program Files/Subversion
	

3.下载客户端
	http://tortoisesvn.net/downloads
	
	如：TortoiseSVN-1.8.7.25475-win64-svn-1.6.16.msi。
	地址：http://sourceforge.net/projects/tortoisesvn/files/1.6.15/Application/TortoiseSVN-1.6.15.21042-win32-svn-1.6.16.msi

	如：TortoiseSVN-1.8.7.25475-win64-svn-1.6.16.msi。
	地址：http://sourceforge.net/projects/tortoisesvn/files/1.6.15/Application/TortoiseSVN-1.6.15.21042-win32-svn-1.6.16.msi

	并下载对应版本的语言包
	如：LanguagePack_1.8.7.25475-win64-zh_CN.msi
	地址：略

4.安装客户端

	安装路径也可以自己改，我的安装路径是D:/Program Files/TortoiseSVN

5.安装版本控制库
	
	路径自己定，我的做法是在D盘上新建一个svn文件夹，双击打开它，然后在里面点击右键，[TotoiseSVN]-> [Create Repository here]进行创建，版本库模式指定为默认的即可。Repository创建完毕后会在目录下生成若干个文件和文件夹，conf目录是用来设置管理的目 录；db目录就是所有版本控制的数据文件；hooks目录放置hook脚本文件的目录；locks用来放置Subversion文件库锁定数据的目录， 用来追踪存取文件库的客户端；format文件是一个文本文件，里面只放了一个整数，表示当前文件库配置的版本号。（本步骤也可以用命令行来完成：svnadmin create D:/svn/repository）

6.设置版本控制库权限

	打开/conf/目录，打开svnserve.conf找到一下两句：
	# [general]
	# password-db = passwd
	去之每行开头的#，其中第二行是指定身份验证的文件名，即passwd文件
	同样打开passwd文件，将
	# [users]
	# harry = harryssecret
	# sally = sallyssecret
	将# [users]开头#字符去掉，这是设置用户，一行一个，存储格式为“用户名 = 密码”，如可插入一行：wang=123，即为系统添加一个用户名为wang，密码为123的用户

7.启动服务器端并将svn设为系统服务

	打开cmd输入: sc create svnser binPath= "D:/Program Files/Subversion/bin/svnserve.exe --service --root D:/svn"，回车；（注：“=”前不得有空格，后必须有空格。 svnser为自定义的服务名称），不提示错误即为成功。

	由于win7的安全权限问题，安装系统服务时会出现“[sc] openSCManager 失败 5 拒绝 ”错误。
		解决方案：
		  在Subversion的bin目录下创建一个启动服务的批处理文件。例如在D:/Program Files/Subversion/bin/下创建文件: svnSetup.bat。编辑该文件，在文件内写入：
		sc create svnserve binpath= "D:/Program Files/Subversion/bin/svnserve.exe --service --root D:/svn" --service --root F:\Repositories" displayname= "Subversion" depend= tcpip start= auto
		sc start svnserve
		保存后退出，右键单击svnSetup.bat,选择以“管理员方式运行”即可。

8、这只svnser为自启动服务。

	启动后在计算机->管理->服务和应用程序->服务->找到svnser,右键属性找到启动类型改为自动。这样每次开机它都会自动运行了,若是采用后一种批处理文件的方式则不需此操作。

9.访问svn,在桌面上点右键[TotoiseSVN]->[Repo-browser]
	
	在地址栏里输入svn://localhost/，这样就可以访问svn了，到这里也就完成了本地svn服务器端和客户端的安装。