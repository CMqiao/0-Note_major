json对象中去重

去重的函数。
function unique(arr) {
    var result = [], hash = {};
    for (var i = 0, elem; (elem = arr[i]) != null; i++) {
        if (!hash[elem]) {
            result.push(elem);
            hash[elem] = true;
        }
    }
    return result;
//http://www.cnblogs.com/sosoft/
}

去重复数据的方法。
function setPositypes(){
    $.ajax({
        url:"com.sfy.oa.orgextend.orgpositiontype.queryPostypesByKindid.biz.ext",
        type:'POST',
        cache:false,
        contentType:'text/json',
        success:function(text){
            var positypes = text.postypes;
            debugger;
            var data={},datas=[],tempdata={};
            for(var i=0,l=positypes.length;i<l;i++){
                var positypename = positypes[i].postypename;
                if(data[positypename]==null){
                    data[positypename]=positypename;
                    tempdata.postypename=positypename;
                    tempdata.postypeid=positypename;
                    datas.push(tempdata);
                    tempdata={};
                }
            }
            nui.get("postypename").setData(datas);
        }
    });
}

